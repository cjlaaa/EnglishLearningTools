<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英语朗读王</title>
    <style>
    	* {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

		body {
		    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		    margin: 0;
		    padding: 20px;
		    background-color: #f7f7f7;
		}

		#container {
		    max-width: 800px;
		    margin: 0 auto;
		    background: #fff;
		    padding: 20px;
		    border-radius: 8px;
		    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		}

		#inputArea {
		    width: 100%;
            min-height: 150px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
		}

		button {
		    background-color: #007bff;
		    color: #fff;
		    border: none;
		    padding: 6px 12px; /* 减小内边距 */
		    border-radius: 4px;
		    cursor: pointer;
		    transition: background-color 0.3s;
		}

		button:hover {
		    background-color: #0056b3;
		}

		#startButton {
			margin-top: 10px;
		}

		#buttonContainer {
		    display: flex;
		    gap: 10px;
		}

		#sentenceList {
		    margin-top: 20px;
		}

		.sentence {
		    margin: 10px 0;
		    display: flex;
		    align-items: center;
		    background: #f1f1f1;
		    padding: 10px;
		    border-radius: 4px;
		    flex-wrap: wrap;
		}

		.sentence button {
		    background-color: #28a745;
		    margin-right: 10px;
		}

		.sentence button:hover {
		    background-color: #218838;
		}

		.word {
		    margin: 0 5px;
		    padding: 2px 5px;
		    cursor: pointer;
		    background-color: #fff;
		    border-radius: 4px;
		    display: inline-block;
		    transition: background-color 0.3s;
		    margin-top: 5px;
		}

		.word:hover {
		    background-color: #007bff;
		    color: #fff;
		}

		#vocabList {
		    margin-top: 20px;
		    border: 1px solid #ddd;
		    padding: 10px;
		    border-radius: 4px;
		    background: #fff;
		    display: flex;
		    flex-wrap: wrap;
		    margin-bottom: 10px;
		}

		#vocabList div {
		    margin: 5px; /* 调整成员之间的间距 */
		    padding: 5px;
		    background: #f1f1f1;
		    border-radius: 4px;
		    cursor: pointer;
		    font-size: 14px; /* 设置字号为14像素 */
		}

		#vocabList div:hover {
		    background: #007bff;
		    color: #fff;
		}

		#vocabList {
		    margin-top: 20px;
		    border: 1px solid #ddd;
		    padding: 10px;
		    border-radius: 4px;
		    background: #fff;
		    display: flex; /* 使用Flexbox布局 */
		    flex-wrap: wrap; /* 允许单词卡片换行 */
		    min-height: 60px
		}

        .highlighted-word {
		    background-color: yellow; /* 设置特殊颜色 */
		    color: black; /* 设置特殊颜色的文字颜色 */
		}

		.discreet-text {
            margin-top: 20px;
            text-align: center;
            font-size: 12px;
            color: #888;
        }

        #toast {
            visibility: hidden;
            min-width: 250px;
            margin-left: -125px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 2px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            font-size: 17px;
        }

        #toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }

        @keyframes fadein {
            from {bottom: 0; opacity: 0;}
            to {bottom: 30px; opacity: 1;}
        }

        @keyframes fadeout {
            from {bottom: 30px; opacity: 1;}
            to {bottom: 0; opacity: 0;}
        }

        #translationInputArea {
		    width: 100%;
		    min-height: 80px;
		    padding: 10px;
		    border: 1px solid #ccc;
		    border-radius: 4px;
		    resize: vertical;
		    margin-top: 10px;
		}

		#wordsLearned {
		    width: 100%;
		    min-height: 100px;
		    padding: 10px;
		    border: 1px solid #ccc;
		    border-radius: 4px;
		    resize: vertical;
		    margin-top: 10px;
		}
		#wordsCommon {
		    width: 100%;
		    min-height: 100px;
		    padding: 10px;
		    border: 1px solid #ccc;
		    border-radius: 4px;
		    resize: vertical;
		    margin-top: 10px;
		}
		#wordsPreset {
		    width: 100%;
		    min-height: 100px;
		    padding: 10px;
		    border: 1px solid #ccc;
		    border-radius: 4px;
		    resize: vertical;
		    margin-top: 10px;
		}
		#wordsArea {
			display: flex;
            gap: 10px;
            margin-top: 10px;
            min-height: 200px;
		}

		.translation {
		    font-size: 14px;
		    color: #888;
		    margin-top: 5px;
		    display: block; /* 确保翻译部分以块级元素显示 */
		    white-space: pre-wrap; /* 允许换行 */
		}

		select {
	        appearance: none; /* 去掉默认样式 */
	        -webkit-appearance: none; /* Safari */
	        -moz-appearance: none; /* Firefox */
	        background-color: #fff; /* 背景颜色 */
	        border: 1px solid #ccc; /* 边框 */
	        border-radius: 5px; /* 圆角 */
	        padding: 10px; /* 内边距 */
	        font-size: 16px; /* 字体大小 */
	        color: #333; /* 字体颜色 */
	        cursor: pointer; /* 鼠标指针 */
	        width: 300px; /* 宽度 */
	        position: relative; /* 为伪元素定位 */
	        margin-top: 10px;
	    }
    </style>
</head>
<body>
    <div id="container">
	    <textarea id="inputArea" placeholder="将英文文章拷贝到这里,点击开始,即可将文章分句朗读,并轻松标记生词,以便统一复制到其他背单词App中.可将txt格式的文档拖动到此."></textarea>
	    <textarea id="translationInputArea" placeholder="在此输入中文翻译(可选),在使用翻译软件翻译大段英文时可能会有中文句子和英文句子无法一一对应的情况,建议使用文本编辑器用句号/问号分句后再拷贝到翻译中进行翻译,可有效解决这个问题.可将txt格式的文档拖动到此."></textarea>
	    <button id="startButton" onclick="startReading()">开始分句朗读</button>

        <select id="articleSelect" style="display: block;" onchange="handleSelectChange(this)">
            <option value="" selected>点击选择-预置文章</option>
        </select>

        <div id="wordsArea" style="display: flex;">
			<textarea id="wordsLearned" placeholder="熟词表.若不留空,则点击开始后,会自动将不在这里的单词添加到生词列表.可将txt格式的文档拖动到此."></textarea>
			<textarea id="wordsCommon" placeholder="半熟词表.这里的单词会以蓝色高亮显示.可将txt格式的文档拖动到此."></textarea>
			<textarea id="wordsPreset" placeholder=""></textarea>
		</div>

    	<div id="toast"></div>

	    <div id="readingSection" style="display: none;">
	        <div id="buttonContainer">
			    <button id="returnButton" onclick="returnToInitialState()">返回</button>
			    <button id="playAllButton" onclick="playAllSentences()">全部朗读</button>
			    <button id="stopButton" onclick="stopReading()">停止</button>
			</div>

	        <div id="vocabList"></div>
	        <button id="copyAllWordsButton" onclick="copyAllWords()">复制所有生词</button>

	        <div id="sentenceList"></div>
	    </div>
	</div>

	<div class="discreet-text">
        <p>&copy; 2024 机智的常总 (<a href="https://github.com/cjlaaa/EnglishLearningTools">GitHub</a> | <a href="index.html">返回主页</a>)</p>
        <p>本网页内容根据 <a rel="license" href="https://opensource.org/licenses/MIT">MIT 许可协议</a> 进行发布。</p>
    </div>

    <script>
    	//熟词表
    	let wordsLearnedArray = []
		//半熟词表
		let wordsCommonArray = []
		//预置生词表
		let wordsPresetArray = []

		initializeSelect()
		function startReading() {
		    const text = document.getElementById('inputArea').value.trim();
		    const translationText = document.getElementById('translationInputArea').value.trim();

		    if (text === '') {
		        showError("请输入英文文章", true);
		        return;
		    }

		    const sentences = text.split(/(?<=[.!?。？！])/);
		    const translations = translationText ? translationText.split(/(?<=[.!?。？！])/): [];

		    const sentenceList = document.getElementById('sentenceList');
		    sentenceList.innerHTML = '';

		    sentences.forEach((sentence, index) => {
		        if (sentence.trim() === '') return;

		        const sentenceDiv = document.createElement('div');
		        sentenceDiv.className = 'sentence';

		        const playButton = document.createElement('button');
		        playButton.textContent = '朗读';
		        playButton.onclick = () => speakText(sentence);
		        sentenceDiv.appendChild(playButton);

		        const copyButton = document.createElement('button');
				copyButton.textContent = '复制';
				copyButton.onclick = () => {
				    navigator.clipboard.writeText(sentence)
				        .then(() => {
				            showError('已复制', false);
				        })
				        .catch(err => {
				            // showError('出现错误: ' + err, true);
				        });
				};
				sentenceDiv.appendChild(copyButton);

		        const words = sentence.split(/[\s\/-]+/);
		        words.forEach(word => {
		            if (word.trim() === '') return;

		            const wordSpan = document.createElement('span');
		            wordSpan.className = 'word';
		            wordSpan.textContent = word;
		            wordSpan.onclick = () => addWordToVocab(word);
		            sentenceDiv.appendChild(wordSpan);
		        });

		        // 添加中文翻译
		        if (translations[index]) {
		            const translationDiv = document.createElement('div');
		            translationDiv.className = 'translation';
		            translationDiv.textContent = translations[index].trim();
		            translationDiv.style.color = 'gray'; // 设置翻译文本颜色
		            sentenceDiv.appendChild(translationDiv);
		        }

		        sentenceList.appendChild(sentenceDiv);
		    });

			// 处理熟词表
			let wordsLearned = document.getElementById('wordsLearned').value;
			wordsLearnedArray = wordsLearned.match(/\b\w+\b/g);
			if (wordsLearnedArray) {
			    wordsLearnedArray = wordsLearnedArray.map(function(word) {
	    			return cleanText(word);
			    });
			}

			//处理预置生词表及高亮
			let wordsPreset = document.getElementById('wordsPreset').value;
			wordsPresetArray = wordsPreset.match(/\b\w+\b/g);
			if (wordsPresetArray) {
			    // 过滤掉已经在wordsLearned数组中的单词
			    if (wordsLearnedArray) {
			    	wordsPresetArray = wordsPresetArray.filter(function(word) {
				    	cleanWord = cleanText(word)
				        return !wordsLearnedArray.includes(cleanWord)
				    });
			    }
			    
			    wordsPresetArray = wordsPresetArray.map(function(word) {
			        cleanWord = cleanText(word)
			        setWordColor(cleanWord, "fuchsia")
			        return cleanWord;
			    });
			}

			//处理半熟词及高亮
			let wordsCommon = document.getElementById('wordsCommon').value;
			wordsCommonArray = wordsCommon.match(/\b\w+\b/g);
			if (wordsCommonArray) {
			    wordsCommonArray = wordsCommonArray.map(function(word) {
			    	cleanWord = cleanText(word)
			    	setWordColor(cleanWord, "blue")
	    			return cleanWord;
			    });
			}

			// 添加生单词
			if (wordsLearnedArray) {
				const wordSpans = document.querySelectorAll('.word');
			    wordSpans.forEach(wordSpan => {
			    	const cleanTextContent = cleanText(wordSpan.textContent)
			        if (wordsLearnedArray.includes(cleanTextContent)) {
			        }else{
			        	addWordToVocab(cleanTextContent, false)
			        }
			    });
			}

		    document.getElementById('inputArea').style.display = 'none';
		    document.getElementById('translationInputArea').style.display = 'none';
		    document.getElementById('startButton').style.display = 'none';
		    document.getElementById('wordsArea').style.display = 'none';
		    document.getElementById('articleSelect').style.display = 'none';
		    document.getElementById('readingSection').style.display = 'block';
		}

		function cleanText(text) {
		    return text.replace(/['’].*/g, '').replace(/[^\w\s]/g, '').replace(/.*\d+.*/g, '').toLowerCase();
		}

		function playAllSentences() {
		    speakText(document.getElementById('inputArea').value)
		}

		function stopReading() {
		    window.speechSynthesis.cancel(); // 停止朗读
		}

		function returnToInitialState() {
			window.speechSynthesis.cancel();
		    document.getElementById('inputArea').style.display = 'block';
   		    document.getElementById('translationInputArea').style.display = 'block';
		    document.getElementById('startButton').style.display = 'block';
		    document.getElementById('articleSelect').style.display = 'block';
		    document.getElementById('wordsArea').style.display = 'flex';
		    document.getElementById('readingSection').style.display = 'none';
		    document.getElementById('sentenceList').innerHTML = '';
		    document.getElementById('vocabList').innerHTML = '';
		}

        // 调用系统语音朗读文本内容的函数
        function speakText(text) {
            window.speechSynthesis.cancel();
            var utterance = new SpeechSynthesisUtterance(text);

            //这里是为了适配safari不会调用onvoiceschanged
            if (!selectedVoice){
                const voices = window.speechSynthesis.getVoices();
                selectedVoice = voices.find(voice => voice.name.includes('Samantha')) ||
                    voices.find(voice => voice.name.includes('Mark')) ||
                    voices.find(voice => voice.name.includes('美国'));
            }

            if (selectedVoice){
                utterance.voice = selectedVoice;
            }
            utterance.rate = 0.7; // 设置朗读速度
            window.speechSynthesis.speak(utterance);
        }

        // 定义一个变量来保存找到的语音
        let selectedVoice;
        // 监听 voiceschanged 事件
        window.speechSynthesis.onvoiceschanged = function() {
            // 获取所有可用的语音
            const voices = window.speechSynthesis.getVoices();
            // 打印所有可用语音的详细信息
            // console.log('Available voices:', voices);
            // 查找名为 "Mark" 或 "Samantha" 的语音
			selectedVoice = voices.find(voice => voice.name.includes('Samantha')) ||
                    voices.find(voice => voice.name.includes('Mark')) ||
                    voices.find(voice => voice.name.includes('美国'));
            if (selectedVoice) {
                // console.log('Found voice:', selectedVoice);
                // // 创建一个 SpeechSynthesisUtterance 实例
                // const utterance = new SpeechSynthesisUtterance('Hello, this is Mark or Samantha.');
                // // 设置为找到的语音
                // utterance.voice = selectedVoice;
                // // 使用当前设置的语音进行合成
                // window.speechSynthesis.speak(utterance);
            } else {
                // console.error('Voice not found: Mark or Samantha.');
            }
        };
        // 手动触发一次以确保语音列表加载
        window.speechSynthesis.getVoices();

		function addWordToVocab(word, isSpeakText = true) {
        	if (window.speechSynthesis.speaking) {
			} else if (isSpeakText) {
			    speakText(word);
			}

		    // 使用正则表达式删除单词中的标点
		    const cleanWord = cleanText(word); // 此正则表达式将删除所有非单词字符（字母、数字和下划线）和空格

		    if (cleanWord.trim() === '') {
		    	return
		    }

		    const vocabList = document.getElementById('vocabList');
		    if (!Array.from(vocabList.children).some(div => div.textContent === cleanWord)) {
		        const wordDiv = document.createElement('div');
		        wordDiv.textContent = cleanWord;
		        wordDiv.onclick = () => deleteWordFromVocab(cleanWord);
		        vocabList.appendChild(wordDiv);

		        setWordBgColor(cleanWord, 'LightPink')
		    }
		}

		function setWordColor(word, color) {
			const wordSpans = document.querySelectorAll('.word');
		    wordSpans.forEach(wordSpan => {
		    	const cleanWord = cleanText(word)
		    	const cleanTextContent = cleanText(wordSpan.textContent)
		        if (cleanTextContent === word) {
		        	wordSpan.style.color = color;
		        }
		    });
		}

		function setWordBgColor(word, color) {
			const wordSpans = document.querySelectorAll('.word');
		    wordSpans.forEach(wordSpan => {
		    	const cleanWord = cleanText(word)
		    	const cleanTextContent = cleanText(wordSpan.textContent)
		        if (cleanTextContent === word) {
		        	wordSpan.style.backgroundColor = color;
		        }
		    });
		}

        function deleteWordFromVocab(word) {
		    const vocabList = document.getElementById('vocabList');
		    const wordDivs = vocabList.querySelectorAll('div');
		    
		    wordDivs.forEach(wordDiv => {
		        if (wordDiv.textContent === word) {
		            wordDiv.remove();
		        }
		    });

		    if (window.speechSynthesis.speaking) {
			} else {
			    speakText(word);
			}

			// 恢复句子中的单词颜色
            const wordSpans = document.querySelectorAll('.word');
            wordSpans.forEach(wordSpan => {
            	const cleanTextContent = cleanText(wordSpan.textContent)
                if (cleanTextContent === word) {
                	setWordBgColor(word, '')
                }
            });

		    showError("已删除生词", false);
		}

		function copyAllWords() {
		    const vocabList = document.getElementById('vocabList');
		    if (vocabList.children.length === 0) {
		        showError("生词列表为空", true);
		    } else {
		        const words = Array.from(vocabList.children).map(div => div.textContent).join('\n');
		        navigator.clipboard.writeText(words).then(() => {
		            showError("已复制所有生词", false);
		        });
		    }
		}

		function showError(message, isError) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.backgroundColor = isError ? '#e74c3c' : '#2ecc71'; // red for error, green for success
            toast.className = 'show';
            setTimeout(() => {
                toast.className = toast.className.replace('show', '');
            }, 3000);
        }

        function hideError() {
            errorArea.textContent = "";
            errorArea.classList.remove("show");
        }

		function setupDragAndDrop(textarea) {
		  textarea.addEventListener('dragover', function(e) {
		    e.preventDefault();
		  });
		  
		  textarea.addEventListener('drop', function(e) {
		    e.preventDefault();
		    const file = e.dataTransfer.files[0];
		    
		    if (file.type === 'text/plain') {
		      const reader = new FileReader();
		      
		      reader.onload = function(e) {
		        textarea.value = e.target.result;
		      };
		      
		      reader.readAsText(file);
		    } else {
		      alert('请拖动一个txt文件到此处');
		    }
		  });
		}

		const textarea1 = document.getElementById('wordsLearned');
		setupDragAndDrop(textarea1);
		const textarea2 = document.getElementById('wordsCommon');
		setupDragAndDrop(textarea2);
		const textarea3 = document.getElementById('inputArea');
		setupDragAndDrop(textarea3);
		const textarea4 = document.getElementById('translationInputArea');
		setupDragAndDrop(textarea4);
		const textarea5 = document.getElementById('wordsPreset');
		setupDragAndDrop(textarea5);

		function handleSelectChange(selectElement) {
            // 获取下拉菜单的值
            var selectedOption = selectElement.options[selectElement.selectedIndex];
            document.getElementById("inputArea").value = selectedOption.getAttribute("data-english");
            document.getElementById("translationInputArea").value = selectedOption.getAttribute("data-translation");
        }

        // 动态初始化 select 选项
        function initializeSelect() {
        	var titles = [
`L1 A puma at large`, 
`L2 Thirteen equals one`, 
`L3 An unknown goddess`, 
`L4 The double life of Alfred Bloggs`,
`L5 The facts`
			];

            var englishArticles = [
`Pumas are large, cat-like animals which are found in America. When reports came into London Zoo that a wild puma had been spotted forty-five miles south of London, they were not taken seriously. However, as the evidence began to accumulate, experts from the Zoo felt obliged to investigate, for the descriptions given by people who claimed to have seen the puma were extraordinarily similar.
The hunt for the puma began in a small village where a woman picking blackberries saw 'a large cat' only five yards away from her. It immediately ran away when she saw it, and experts confirmed that a puma will not attack a human being unless it is cornered. The search proved difficult, for the puma was often observed at one place in the morning and at another place twenty miles away in the evening. Wherever it went, it left behind it a trail of dead deer and small animals like rabbits. Paw prints were seen in a number of places and puma fur was found clinging to bushes. Several people complained of 'cat-like noises' at night and a businessman on a fishing trip saw the puma up a tree. The experts were now fully convinced that the animal was a puma, but where had it come from? As no pumas had been reported missing from any zoo in the country, this one must have been in the possession of a private collector and somehow managed to escape. The hunt went on for several weeks, but the puma was not caught. It is disturbing to think that a dangerous wild animal is still at large in the quiet countryside.`,

`Our vicar is always raising money for one cause or another, but he has never managed to get enough money to have the church clock repaired. The big clock which used to strike the hours day and night was damaged many years ago and has been silent ever since.
One night, however, our vicar woke up with a start: the clock was striking the hours! Looking at his watch, he saw that it was one
our vicar woke up with a start o'clock, but the bell struck thirteen times before it stopped. Armed with a torch, the vicar went up into the clock tower to see what was going on. In the torchlight, he caught sight of a figure whom he immediately recognized as Bill Wilkins, our local grocer.
'Whatever are you doing up here Bill?' asked the vicar in surprise.
'I'm trying to repair the bell,' answered Bill. 'I've been coming up here night after night for weeks now. You see, I was hoping to give you a surprise.'
'You certainly did give me a surprise!' said the vicar. "You've probably woken up everyone in the village as well. Still, I'm glad the bell is working again.'
'That's the trouble, vicar,' answered Bill. 'It's working all right, but I'm afraid that at one o'clock it will strike thirteen times and there's nothing I can do about it.'
'We'll get used to that, Bill,' said the vicar. "Thirteen is not as good as one, but it's better than nothing. Now let's go downstairs and have a cup of tea.'`,

`Some time ago, an interesting discovery was made by archaeologists on the Aegean island of Kea. An American team explored a temple which stands in an ancient city on the promontory of Ayia Irini. The city at one time must have been prosperous, for it enjoyed a high level of civilization. Houses — often three storeys high — a very modern-looking woman were built of stone. They had large rooms with beautifully decorated walls. The city was even equipped with a drainage system, for a great many clay pipes were found beneath the narrow streets.
The temple which the archaeologists explored was used as a place of worship from the fifteenth century BC until Roman times. In the most sacred room of the temple, clay fragments of fifteen statues were found. Each of these represented a goddess and had, at one time, been painted. The body of one statue was found among remains dating from the fifteenth century BC. Its missing head happened to be among remains of the fifth century BC. This head must have been found in Classical times and carefully preserved. It was very old and precious even then. When the archaeologists reconstructed the fragments, they were amazed to find that the goddess turned out to be a very modern-looking woman. She stood three feet high and her hands rested on her hips. She was wearing a full-length skirt which swept the ground. Despite her great age, she was very graceful indeed, but, so far, the archaeologists have been unable to discover her identity.`,

`These days, people who do manual work often receive far more money than people who work in offices. People who work in offices are frequently referred to as 'white-collar workers' for the simple reason that they usually wear a collar and tie to go to work. Such is human nature, that a great many people are often willing to sacrifice higher pay for the privilege of becoming white-collar workers. This can give rise to curious situations, as it did in the case of Alfred Bloggs who worked as a dustman for the Ellesmere Corporation.
When he got married, Alf was too embarrassed to say anything to his wife about his job. He simply told her that he worked for the Corporation. Every morning, he left home dressed in a smart black suit. He then changed into overalls and spent the next eight hours as a dustman. Before returning home at night, he took a shower and changed back into his suit. Alf did this for over two years and his fellow dustmen kept his secret. Alf's wife has never discovered that she married a dustman and she never will, for Alf has just found another job. He will soon be working in an office. He will be earning only half as much as he used to, but he feels that his rise in status is well worth the loss of money. From now on, he will wear a suit all day and others will call him 'Mr Bloggs', not 'Alf".`,

`Editors of newspapers and magazines often go to extremes to provide their readers with unimportant facts and statistics. Last year a journalist had been instructed by a well-known magazine to write an article on the president's palace in a new African republic. When the article arrived, the editor read the first sentence and then refused to publish it. The article began: 'Hundreds of steps lead to the high wall which surrounds the president's palace.' The editor at once sent the journalist a fax instructing him to find out the exact number of steps and the height of the wall.
The journalist immediately set out to obtain these important facts, but he took a long time to send them. Meanwhile, the editor was getting impatient, for the magazine would soon go to press. He sent the journalist two more faxes, but received no reply. He sent yet another fax informing the journalist that if he did not reply soon he would be fired. When the journalist again failed to reply, the editor reluctantly published the article as it had originally been written. A week later, the editor at last received a fax from the journalist. Not only had the poor man been arrested, but he had been sent to prison as well. However, he had at last been allowed to send a fax in which he informed the editor that he had been arrested while counting the 1,084 steps leading to the fifteen-foot wall which surrounded the president's palace.`
			];
			var chineseTranslations = [
`美洲狮是一种体形似猫的大动物，产于美洲。当伦敦动物园接到报告说，在伦敦以南43英里处发现一只美洲狮时，这些报告并没有受到重视。可是，随着证据越来越多，动物园的专家们感到有必要进行一番调查，因为凡是声称见到过美洲狮的人们所描述的情况竟是出奇地相似。
搜寻美洲狮的工作是从一座小村庄开始的，那里的一位妇女在采摘黑莓时看见“一只大猫”，离她仪5码远。她刚看见它，它就立刻逃走了，专家证实，美洲狮除非被逼得走投无路，是决不会伤人的。事实上搜寻工作很困难，因为常常是早晨在甲地发现那只美洲狮，晚上却在 20 英里外的乙地发现它的踪迹。无论它走到哪儿，一路上总会留下一串死鹿以及死兔子之类的小动物。在许多地方看见了爪印，灌木丛中也发现了粘在上面的美洲狮毛。有人抱怨说夜里听见了“像猫一样的叫声”；一位商人去钓鱼，看见那只美洲狮在树上。专家们如今已经完全肯定那只动物就是美洲狮，但它是从哪儿来的呢？由于全国动物园没有一家报告丢了美洲狮，因此那只美洲狮一定是某位私入收藏寒象养的，不知怎么设法逃出来了。搜寻工作进行了好几个星期，但始终来能逮住那只美洲狮。想到在宁静的乡村里有一头危险的野兽继续逍遥流窜，真令人担心。`,

`我们教区的牧师总是为各种各样的事筹集资金，但始终未能筹足资金把教堂的钟修好。教堂的钟很大，以前不分昼夜打点报时，但在很多年前遭到毁坏，从此便无声无息了。
一天夜里，我们的牧师突然被惊醒了，大钟又在“打点”报时了！他一看表，才1点钟，可是那钟一连敲了13下才停。牧师拿着一支电筒走上钟楼想去看看究竞发生了什么事情。借着电筒光，他看见一个人，马上认出那是本地杂货店店主比尔•威尔金斯。
“你究竟在这上面干什么，比尔？”牧师惊讶地问。
“我想把这口钟修好，”比尔回答说。“好几个星期了，我天天夜里到钟楼上来。嗯，我是想让你大吃一惊。”“你确实使我大吃了一惊！”牧师说。“也许同时你把村里所有的人都吵醒了。不过，钟又能报时了，我还是很高兴的。”
“问题就在这里，牧师，”比尔问答说。“不错，钟是能报时了，但是，恐怕每到1点钟，它总要敲13下，对此我已无能为力了。”
“大家慢慢就习惯了，比尔，”牧师说。“13下是不如1下好，但总比1下也不敲强。来，咱们下楼去喝杯茶吧。”`,

`不久之前，在爱琴海的基亚岛上，考古工作者有一项有趣的发现。一个美国考古队在阿伊亚•依里尼海角的一座古城里考察了一座庙宇。这座古城肯定一度很繁荣，因火它曾享有高度的文明。房子一般有3层楼高，用石块修建。里面房间很大，堵壁装饰华丽。城里甚至还敷设了排水系统，因为在狭窄的街道底下发现了许许多多陶土制作的排水管道。
考古工作者考察的这座庙宇从公元前15世纪直至罗马时代一直是祭祀祈祷的场所。在庙中最神圣的一间殿堂里发现了15尊陶制雕像的碎片。每一尊雕像代表一位女神，而且一度上过色。其中有一尊雕像，她的躯体是在公元前15纪的历史文物中发现的。而她那身首异处的脑袋却碰巧是在公元前5世纪的文物中找到的。她的脑袋一定是在古希腊罗马时代就为人所发现，并受到了精心的保护。即使在当时，它也属历史悠久的珍奇之物。考古工作者把这些碎片重新拼装起来后，惊奇地发现那位女神原来是一位相貌十分摩登的女郎。她身高3英尺，双手又腰。身穿一条拖地长裙。尽管上了年纪，但体态确实优美，不过，考古工作者至今未能确定这位女神的身份。`,

`如今，从事体力劳动的人的收入一般要比坐办公室的人高出许多。坐办公室的人之所以常常被称作“白领工人”，就是因为他们通常是穿着硬领白衬衫、系着领带去上班。许多人常常情您放弃较高的薪水以換取做白领工人的荣，此乃人之常情。而这常常会引起种种奇怪的现象，在埃尔斯米尔公司当清洁工的艾尔弗苗德•布洛格斯就是一个例子。
艾尔弗结婚时，感到非常难为情，而没有将自己的职业告诉妻子。他只说在埃尔斯米尔公司上班。每天早晨，他穿上一身漂亮的黑色西装离家上班。然后换上工作服，当8个小时清洁工。晚上回家前，他洗个淋浴，重新换上那身黑色西服。两年多以来，艾尔弗一直这样，他的同事也为他保守秘密。艾尔弗的妻子一直不知道她嫁给了一个清洁工，而且她水远也不会知道了，因为艾尔弗已找到新职。不久就要坐在办公室里工作了。他将来挣的钱只有他现在的一半，不过他觉得，地位升高了，损失点儿钱也值得。从此，艾尔弗可以一天到晚穿西服了，别人将称呼他为“布洛格斯先生”，而不再叫他“艾尔弗”了。`,

`报刊杂志的编辑常常为了向读者提供成立一些无关紧要的事实和统计数字而走向极端。去年，一位记者受一家有名的杂志的委托写一篇关于非洲某个新成立共和国总统府的文章。稿子寄来后，编辑看了第一句话就拒绝予以发表。文章的开头是这样的：“几百级台阶通向环绕总统府的高墙。”编辑立即给那位记者发去传真，婆求他核实一下台阶的确切数字和围墙的高度。
记者立即出发去核实这些重要的事实，但过了好长时间不见他把数字寄来。在此期间，编辑等得不耐烦了，因为杂志马上要付印。他给记者先后发去两份传真，但对方毫无反应。于是他又发了一份传真，通知那位记者说，若再不迅速答复，将被解雇。但记者还是没有回复，编辑无奈，勉强按原样发稿了。一周之后，编辑终于接到了记者的传真。那个可怜的记者不仅被捕了，而且还被送进了监狱。不过，他终于获准发回了一份传真，在传真中他告诉编辑，就在他数通向15英尺高的总统府围墙的1,084级台阶时，被抓了起来。`
            ];

            var select = document.getElementById("articleSelect");
            for (var i = 0; i < englishArticles.length; i++) {
                var option = document.createElement("option");
                option.value = i + 1; // 文章编号从 1 开始
                option.textContent = titles[i];
                option.setAttribute("data-english", englishArticles[i]); // 保存英文文章
                option.setAttribute("data-translation", chineseTranslations[i]); // 保存中文翻译
                select.appendChild(option);
            }
        }

	    // 加载预置词
	    document.getElementById("wordsPreset").value = `预置生词表,这里的单词会以紫红色高亮显示(已经包含在熟词表的除外),选自<剑桥雅思核心词汇><刘洪波雅思阅读考点词>
adolescence, adulthood, bond, brotherhood, character, childhood, conflict, connection, fatherhood, friendship, instinct, interaction, motherhood, nature, parent, relation, relative, resemblance, rivalry, sibling, teenager, temperament, ties, upbringing, close, maternal, parental, rewarding, stable, accommodate, adopt, develop, endure, establish, inherit, interact, nurture, ability, adolescent, behaviour, concept, consequence, gesture, growth, height, imagination, infancy, infant, knowledge, maturity, memory, milestone, mind, peers, period, phase, rate, reminder, skill, stage, toddler, transition, abstract, cognitive, clumsy, fond, immature, independent, irresponsible, mature, patient, rebellious, significant, tolerant, acquire, grow, imitate, master, remember, remind, reminisce, visualise, typically, allergy, anxiety, appetite, artery, asset, benefit, cravings, depression, diagnosis, diet, dietician, disease, exercise, factor, fat, harm, health, infection, ingredients, insomnia, intake, muscle, nutrient, nutrition, obesity, onset, portion, risk, serving, stress, stroke, treatment, therapy, variety, weight, acute, allergic, alternate, brisk, chronic, harmful, healthy, infectious, moderate, obese, overweight, persistent, regular, vital, avoid, counteract, curb, cure, diminish, disrupt, eliminate, maintain, overdo, overeat, prevent, recommend, recover, reduce, skip, stimulate, trigger, activity, aspect, attitude, competition, creativity, desire, disappointment, experience, fulfillment, goal, hobby, insight, leisure, lifestyle, optimist, outlook, opportunity, personality, pessimist, priority, pressure, realist, sense, active, bored, confused, dissatisfied, intense, materialistic, negative, outdoor, positive, recreational, successful, appeal, attract, choose, express, enjoy, fulfil, improve, motivate, participate, regret, relax, satisfy, assignment, college, controversy, curriculum, dissertation, education, exam, findings, funding, grade, graduation, grant, homework, kindergarten, lecturer, library, limits, Masters, nursery, PhD, program, project, research, resources, results, scholarship, scope, sources, syllabus, task, theory, thesis, tutor, topic, university, academic, eligible, mixed, postgraduate, relevant, senior, studious, analyse, conduct, concentrate, consider, graduate, organise, overcome, review, revise, struggle, relatively, accuracy, communication, conjecture, dialect, fluency, hesitation, language, linguist, linguistics, pronunciation, vocabulary, incoherent, inherent, sophisticated, spontaneous, clarify, communicate, comprehend, conclude, confirm, converse, define, demonstrate, distinguish, emerge, evolve, explain, illustrate, imply, indicate, pronounce, recall, signify, state, stutter, suggest, translate, Idioms, accommodation, attraction, community, countryside, destination, effect, facilities, identification, inhabitant, itinerary, journey, landscape, luggage, peak, tourism, tourist, transport, travel, travelling, trend, trip, village, adventurous, budget, breathtaking, coastal, cosmopolitan, diverse, flexible, foreign, local, luxurious, mountainous, peaceful, picturesque, polluted, quaint, remote, rough, rural, scenic, stunning, tough, traditional, unspoilt, urban, affect, fluctuate, age, archaeologist, century, decade, era, evidence, excavation, generation, millennia, pioneer, timeline, ancient, chronological, consecutive, historical, imminent, nostalgic, prehistoric, punctual, erode, infer, predate, span, chronologically, formerly, previously, subsequently, agriculture, burrow, climate, crop(s), decline, den, disaster, ecology, evolution, extinction, fauna, flora, genetics, habitat, insect, pesticides, predator, prey, repercussions, scent, species, soil, vegetation, vermin, weed, arid, catastrophic, disastrous, domesticated, endangered, extinct, introduced, native, natural, resistant, tropical, vulnerable, wild, adapt, combat, cultivate, eradicate, hibernate, tolerate, asteroid, astronaut, atmosphere, cosmos, crater, debris, Earth, exploration, explorer, galaxy, gas, gravity, horizon, launch, meteor, moon, ocean, orbit, planet, radiation, rocket, satellite, simulator, space, spacecraft, surface, universe, weightlessness, commercial, cosmic, extreme, gravitational, horizontal, inevitable, lunar, meteoric, outer, solar, terrestrial, toxic, uninhabitable, universal, unmanned, acclimatise, colonise, explore, float, propel, rotate, sustain, simulate, undergo, balcony, brick, building, ceiling, concrete, construction, cottage, design, device, elevator, engineering, frame, gadget, housing, innovation, invention, landmark, occupant, platform, quarry, residence, skyscraper, staircase, steel, storage, structure, tension, timber, airy, conventional, cosy, cramped, curved, disposable, domestic, exterior, functional, futuristic, innovative, internal, modern, ornate, prefabricated, spacious, typical, activate, automate, build, condemn, construct, decorate, demolish, devise, haul, hoist, invent, occupy, reconstruct, renovate, support, computerisation, data, function, keyboard, keypad, monitor, patent, prototype, technology, telecommunications, vision, compact, computerised, cyber, dated, digital, portable, virtual, access, connect, download, display, envisage, operate, revolutionise, scroll, speculate, store, surpass, automatically, brand, culture, cycle, demographics, development, diversity, globalisation, hindsight, icon, identity, implication, impact, increase, influence, industry, isolation, market, modernisation, multiculturalism, percentage, population, prediction, projection, proportion, statistics, ageing, current, demographic, elderly, ethnic, exotic, global, multicultural, productive, sceptical, subsequent, wealthy, worldwide, compound, contribute, dominate, dwindle, merge, migrate, challenge, compromise, difficulty, dilemma, infrastructure, issue, megacity, migrant, obstacle, overpopulation, poverty, resolution, setback, slum, solution, tolerance, traffic, urbanisation, adequate, basic, booming, crowded, decent, developing, isolated, overpriced, overworked, pressing, staggering, address, adjust, aggravate, cause, compete, deteriorate, enhance, exacerbate, exclude, face, flourish, identify, include, linger, modify, present, raise, reform, regulate, remedy, resolve, tackle, transform, worsen, biodiversity, contamination, deforestation, disposal, drought, ecosystem, emission, erosion, fertilizer, flood, fumes, pollutant, pollution, process, refuse, strain, threat, waste, achievable, advantageous, beneficial, conceivable, contaminated, devastating, doubtful, environmental, feasible, fruitless, futile, immune, impracticable, improbable, insoluble, irreparable, irreplaceable, irreversible, liable, pervasive, pointless, pristine, questionable, recyclable, sustainable, taxing, unattainable, unlikely, unprecedented, useless, viable, worthwhile, confront, contaminate, dump, threaten, inexorably, inevitably, balance, biofuel, carbon, crisis, electricity, emissions, exhaust, fuel, hybrid, hydrogen, petrol, turbine, vehicle, alternative, critical, drastic, efficient, effective, nuclear, rechargeable, renewable, absorb, conserve, consume, convert, counter, deplete, discharge, emit, expend, limit, outweigh, preserve, retain, advertisement, advertising, boss, campaign, candidate, career, clerk, client, colleague, company, consumer, credibility, customer, earnings, employee, employer, employment, goods, income, interview, job, labourer, management, marketing, meeting, money, niche, occupation, office, overtime, packaging, pay, perk, product, profession, prospects, qualifications, retirement, salary, shares, skills, staff, supervisor, takeover, target, trade, unemployment, wages, workforce, workplace, casual, demanding, economic, economical, exhausting, hospitality, monotonous, retail, redundant, unemployed, unskilled, apply, earn, endorse, persuade, request, retire, actions, arson, authority, burglary, consequences, convict, crime, criminal, deterrent, fine, fraud, imprisonment, inequality, intent, intrusion, judge, jury, kidnapping, lawyer, motive, murder, offence, pickpocketing, prevention, prison, prisoner, prosecutor, protection, punishment, recklessness, smuggling, swearing, vandalism, victim, violation, evil, guilty, harsh, innocent, intentional, offensive, punishable, random, strict, unintentional, victimless, abolish, deter, enforce, imprison, obey, offend, perpetrate, protect, prove, punish, resent, respect, violate, author, bias, censorship, editor, exposé, exposure, fame, ideology, investigation, journal, journalism, media, network, newspaper, newsstand, opinion, paparazzi, press, privacy, publication, publicity, publisher, relevance, safeguard, source, speculation, tabloid, artificial, biased, celebrity, controversial, distorted, entertaining, factual, informative, intrusive, investigative, mainstream, realistic, sensationalist, superficial, unbiased, broadcast, censor, control, exploit, expose, inform, intrude, invade, investigate, publicize, publish, report, verify, actor, actress, aesthetics, appreciation, artifact, artist, audience, ballerina, ballet, carving, conception, concert, crafts, creation, emotion, exhibition, expression, festival, gallery, image, inspiration, intimacy, literature, mood, musician, opera, orchestra, painting, performance, play, portrait, reflection, response, sculptor, sculpture, stimulus, style, taste, theatre, theme, venue, works, writer, accomplished, aesthetic, burgeoning, classical, creative, cultural, distracting, eclectic, electric, emotional, fundamental, imaginative, influential, inspirational, interactive, literary, live, magical, mundane, passionate, popular, prominent, relaxing, stimulating, visual, vivid, choreograph, create, depict, enrich, escape, imagine, inspire, perform, provoke, transcend, abandon, accelerate, accumulate, acknowledge, addictive, admit, adversity, aggression, agreeable, aid, allocate, alter, altitude, analyze, and, application, appreciate, approach, approve, array, asses, assign, association, assumption, assure, attempt, aware, bacteria, barrier, bear, blight, boundary, bungle, burden, calamity, calculate, capacity, cater, certify, change, characteristic, civic, clue, coin, collapse, comment, commitment, communal, commute, compare, compatible, compensate, complicate, component, conceal, concur, confer, confidential, conform, confuse, conscious, conservative, considerable, constrain, consult, contingent, contrast, convention, conviction, correlation, courtship, crash, criteria, criticism, cue, damp, dazzle, deadline, defeat, defect, deficiency, delay, delicate, delivery, democratic, dental, derive, designate, detailed, detain, detect, determine, devastate, diagnose, differ, differentiate, disclose, disparate, distract, distribute, divert, documentation, domain, dominant, donate, dramatic, durable, dynamics, elaborate, elusive, emphasize, encyclopaedia, endanger, engagement, enormous, entertainment, entrepreneur, environment, equal, equator, erratically, established, estate, ethical, evaluate, even, eventually, evitable, exaggerate, excel, exceptional, exchange, exclusive, execute, exhausted, expect, experiment, expertise, explicit, extend, extract, exude, faculty, fair, famine, fatigue, feature, financial, finite, fit, fitness, foe, format, formation, fragile, fragment, freeze, frustration, fulfill, fund, gene, germ, gifted, graphic, guarantee, halt, harbour, hardship, harmonize, hazard, hinder, hint, hostile, hypothesis, ignore, immediately, immunity, impair, impede, imperative, impressive, inaccessible, inaccurate, inactive, inappropriate, incentive, induce, indulge, infest, initial, initiate, innate, installment, integrate, intelligence, interference, interior, interrupt, introverted, involve, isolate, jeopardize, keen, label, lack, legal, legitimate, likelihood, limb, limitation, linguistic, link, log, lopsided, loss, magnetic, main, mainly, malfunction, mammal, manifest, manufacture, marine, massive, mate, measure, mechanism, mental, mercury, meteorological, method, microbe, military, mimic, minimize, moisture, moral, mortality, motif, mould, municipal, necessary, neglect, nocturnal, norm, notoriety, objective, obligation, obscure, obtain, odd, odour, official, offset, only, optimum, option, ordinary, organ, organize, original, overlook, overtake, paralyse, paramount, particular, pattern, perceive, peripheral, permit, pessimistic, physical, plagiarise, plague, plot, pose, postpone, potential, practice, praise, predict, preference, preliminary, primary, principal, principle, private, prohibit, prolong, promote, prompt, proof, property, prosper, provision, purify, puzzle, qualify, quantity, quotation, radical, range, rare, rather, react, realize, recognize, record, recreation, reduction, regulation, rehearsal, reject, reliance, religious, reluctant, replace, reproduce, resemble, resistance, respond, responsible, restriction, revision, revive, rudimentary, ruin, secrete, seek, setting, settle, shade, shelter, shift, signal, similar, skepticism, soar, solely, solicitor, sophisticate, specific, spoil, spouse, standard, steer, stride, subdivide, substance, substitute, subtle, succumb, sufficiency, suit, superior, supersede, supplement, suppress, supremacy, surrounding, surveillance, survive, suspicious, swift, symbol, symptom, synthetic, talented, term, that, throughout, toll, trace, track, trait, transit, transmit, tremendous, underestimate, underlie, unexpectedly, uniform, utilization, valuable, vanish, vary, vast, versatile, vicinity, view, violent, virus, visible, volume, wholesome, witness, wreck, yield, 
	    `;
    </script>
</body>
</html>
